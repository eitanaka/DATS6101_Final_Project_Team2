library(ggplot2)
library(tidyr)
url <- 'https://raw.githubusercontent.com/eitanaka/DATS6101_Final_Project_Team2/main/data_set/geo_socio_health_df.csv'
master_df <- read_csv(url)
master_df <- na.omit(master_df)
colSums(master_df)
master_df <- na.omit(master_df)
# colSums(master_df)
depression_df <- master_df$DEPRESSION
mhlth_df <- master_df$MHLTH
view(mhlth_df)
depression_df <- data.frame(master_df$DEPRESSION)
master_df <- na.omit(master_df)
# colSums(master_df)
depression_df <- data.frame(master_df$DEPRESSION)
mhlth_df <- data.frame(master_df$MHLTH)
View(mhlth_df)
# Some of common RMD options (and the defaults) are:
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right',
knitr::opts_chunk$set(warning = F, results = "hide", message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3)
# options(scipen=9, digits = 3)
# Import Libraries
rm(list=ls())
library(readr)
library(ggplot2)
library(tidyr)
url <- 'https://raw.githubusercontent.com/eitanaka/DATS6101_Final_Project_Team2/main/data_set/geo_socio_health_df.csv'
master_df <- read_csv(url)
master_df <- na.omit(master_df)
str(master_df)
summary(master_df)
cor_matrix <- cor(master_df[,6:50])
View(cor_matrix)
master_df <- na.omit(master_df)
lifestlye_df <- subset(master_df)
View(master_df)
dep_hist <- hist(master_df$DEPRESSION)
mhlth_hist <- hist(master_df$MHLTH)
str(master_df)
master_df <- na.omit(master_df)
# checking distributions with histograms
selected_vars <- subset(master_df, select = c("BINGE", "DEPRESSION", "LPA", "MHLTH", "SLEEP", "MT_Never Married "))
master_df <- na.omit(master_df)
# checking distributions with histograms
selected_vars <- subset(master_df, select = c("BINGE", "DEPRESSION", "LPA", "MHLTH", "SLEEP", "MT_Never Married"))
master_df <- na.omit(master_df)
# checking distributions with histograms
selected_vars <- subset(master_df, select = c("BINGE", "DEPRESSION", "LPA", "MHLTH", "SLEEP", "MT_Never Married"))
hists <- ggplot(selected_vars, aes(x = value)) +
geom_histogram() +
facet_wrap(~variable, ncol = 6)
hists
master_df <- na.omit(master_df)
# checking distributions with histograms
selected_vars <- subset(master_df, select = c("BINGE", "DEPRESSION", "LPA", "MHLTH", "SLEEP", "MT_Never Married"))
hists <- ggplot(selected_vars, aes()) +
geom_histogram() +
facet_wrap(~variable, ncol = 6)
hists
master_df <- na.omit(master_df)
# checking distributions with histograms
# selected_vars <- subset(master_df, select = c("BINGE", "DEPRESSION", "LPA", "MHLTH", "SLEEP", "MT_Never Married"))
hist_list <- lapply(master_df, hist)
master_df <- na.omit(master_df)
num_df <- subset(master_df, select = -c(CountyFips))
master_df <- na.omit(master_df)
cols_to_remove <- c("...1", "CountyFIPS")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# checking distributions with histograms
# selected_vars <- subset(master_df, select = c("BINGE", "DEPRESSION", "LPA", "MHLTH", "SLEEP", "MT_Never Married"))
# hist_list <- lapply(master_df, hist)
View(num_df)
master_df <- na.omit(master_df)
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# checking distributions with histograms
# selected_vars <- subset(master_df, select = c("BINGE", "DEPRESSION", "LPA", "MHLTH", "SLEEP", "MT_Never Married"))
# hist_list <- lapply(master_df, hist)
View(num_df)
hist_list <- lapply(num_df, hist)
names(hist_list) <- names(num_df)
hist_list
hist_list <- lapply(num_df, hist)
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName" "MT_Total", "EA_Total", "Total Population")
hist_list <- lapply(num_df, hist)
names(hist_list) <- names(num_df)
master_df <- na.omit(master_df)
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "Total Population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
print(hist_list)
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
# Some of common RMD options (and the defaults) are:
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right',
knitr::opts_chunk$set(warning = F, results = "hide", message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3)
# options(scipen=9, digits = 3)
# Import Libraries
rm(list=ls())
library(readr)
library(ggplot2)
library(tidyr)
url <- 'https://raw.githubusercontent.com/eitanaka/DATS6101_Final_Project_Team2/main/data_set/geo_socio_health_df.csv'
master_df <- read_csv(url)
master_df <- na.omit(master_df)
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "Total Population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# checking distributions with histograms
# selected_vars <- subset(master_df, select = c("BINGE", "DEPRESSION", "LPA", "MHLTH", "SLEEP", "MT_Never Married"))
# hist_list <- lapply(num_df, hist)
# names(hist_list) <- names(num_df)
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
View(master_df)
str(master_df)
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_Never_Married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- " MT_Now_Married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
str(master_df )
# checking distributions with histograms
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_never_married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- "MT_now_married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
colnames(master_df)[colnames(master_df) == "EA_Less than high school graduate"] <- "EA_Less_than_high_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_High school graduate "] <- "EA_High_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_college or associate's degree"] <- "EA_college_or_associate's_degree"
colnames(master_df)[colnames(master_df) == "EA_Bachelor's degree"] <- "EA_Bachelor's_degree"
colnames(master_df)[colnames(master_df) == "EA_Graduate or professional degree"] <- "EA_Graduate_or_professional_degree"
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# hist_list <- lapply(num_df, hist)
# names(hist_list) <- names(num_df)
# hist_list <- lapply(names(num_df), function(col) {
#   ggplot(num_df, aes_string(x = col)) +
#     geom_histogram() +
#     ggtitle(col)
# })
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
# Some of common RMD options (and the defaults) are:
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right',
knitr::opts_chunk$set(warning = F, results = "hide", message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3)
# options(scipen=9, digits = 3)
# Import Libraries
rm(list=ls())
library(readr)
library(ggplot2)
library(tidyr)
url <- 'https://raw.githubusercontent.com/eitanaka/DATS6101_Final_Project_Team2/main/data_set/geo_socio_health_df.csv'
master_df <- read_csv(url)
# checking distributions with histograms
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_never_married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- "MT_now_married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
colnames(master_df)[colnames(master_df) == "EA_Less than high school graduate"] <- "EA_Less_than_high_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_High school graduate "] <- "EA_High_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_college or associate's degree"] <- "EA_college_or_associate's_degree"
colnames(master_df)[colnames(master_df) == "EA_Bachelor's degree"] <- "EA_Bachelor's_degree"
colnames(master_df)[colnames(master_df) == "EA_Graduate or professional degree"] <- "EA_Graduate_or_professional_degree"
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# hist_list <- lapply(num_df, hist)
# names(hist_list) <- names(num_df)
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
# checking distributions with histograms
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_never_married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- "MT_now_married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
colnames(master_df)[colnames(master_df) == "EA_Less than high school graduate"] <- "EA_Less_than_high_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_High school graduate"] <- "EA_High_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_college or associate's degree"] <- "EA_college_or_associate's_degree"
colnames(master_df)[colnames(master_df) == "EA_Bachelor's degree"] <- "EA_Bachelor's_degree"
colnames(master_df)[colnames(master_df) == "EA_Graduate or professional degree"] <- "EA_Graduate_or_professional_degree"
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# hist_list <- lapply(num_df, hist)
# names(hist_list) <- names(num_df)
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
# checking distributions with histograms
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_never_married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- "MT_now_married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
colnames(master_df)[colnames(master_df) == "EA_Less than high school graduate"] <- "EA_Less_than_high_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_High school graduate"] <- "EA_High_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_college or associate's degree"] <- "EA_college_or_associates_degree"
colnames(master_df)[colnames(master_df) == "EA_Bachelor's degree"] <- "EA_Bachelor's_degree"
colnames(master_df)[colnames(master_df) == "EA_Graduate or professional degree"] <- "EA_Graduate_or_professional_degree"
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# hist_list <- lapply(num_df, hist)
# names(hist_list) <- names(num_df)
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
# checking distributions with histograms
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_never_married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- "MT_now_married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
colnames(master_df)[colnames(master_df) == "EA_Less than high school graduate"] <- "EA_Less_than_high_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_High school graduate"] <- "EA_High_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_college or associate's degree"] <- "EA_college_or_associates_degree"
colnames(master_df)[colnames(master_df) == "EA_Bachelor's degree"] <- "EA_Bachelors_degree"
colnames(master_df)[colnames(master_df) == "EA_Graduate or professional degree"] <- "EA_Graduate_or_professional_degree"
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# hist_list <- lapply(num_df, hist)
# names(hist_list) <- names(num_df)
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
# Some of common RMD options (and the defaults) are:
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right',
knitr::opts_chunk$set(warning = F, results = "hide", message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3)
# options(scipen=9, digits = 3)
# Import Libraries
rm(list=ls())
library(readr)
library(ggplot2)
library(tidyr)
url <- 'https://raw.githubusercontent.com/eitanaka/DATS6101_Final_Project_Team2/main/data_set/geo_socio_health_df.csv'
master_df <- read_csv(url)
# checking distributions with histograms
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_never_married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- "MT_now_married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
colnames(master_df)[colnames(master_df) == "EA_Less than high school graduate"] <- "EA_Less_than_high_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_High school graduate"] <- "EA_High_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_college or associate's degree"] <- "EA_college_or_associates_degree"
colnames(master_df)[colnames(master_df) == "EA_Bachelor's degree"] <- "EA_Bachelors_degree"
colnames(master_df)[colnames(master_df) == "EA_Graduate or professional degree"] <- "EA_Graduate_or_professional_degree"
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# hist_list <- lapply(num_df, hist)
# names(hist_list) <- names(num_df)
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
str(master_df)
summary(master_df)
cor_matrix <- cor(master_df[,6:50])
View(cor_matrix)
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
hist_list
# Some of common RMD options (and the defaults) are:
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right',
knitr::opts_chunk$set(warning = F, results = "hide", message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3)
# options(scipen=9, digits = 3)
# Import Libraries
rm(list=ls())
library(readr)
library(ggplot2)
library(tidyr)
url <- 'https://raw.githubusercontent.com/eitanaka/DATS6101_Final_Project_Team2/main/data_set/geo_socio_health_df.csv'
master_df <- read_csv(url)
# checking distributions with histograms
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_never_married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- "MT_now_married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
colnames(master_df)[colnames(master_df) == "EA_Less than high school graduate"] <- "EA_Less_than_high_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_High school graduate"] <- "EA_High_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_college or associate's degree"] <- "EA_college_or_associates_degree"
colnames(master_df)[colnames(master_df) == "EA_Bachelor's degree"] <- "EA_Bachelors_degree"
colnames(master_df)[colnames(master_df) == "EA_Graduate or professional degree"] <- "EA_Graduate_or_professional_degree"
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
hist_list <- lapply(names(num_df), function(col) {
ggplot(num_df, aes_string(x = col)) +
geom_histogram() +
ggtitle(col)
})
hist_list
# Some of common RMD options (and the defaults) are:
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right',
knitr::opts_chunk$set(warning = F, results = "hide", message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3)
# options(scipen=9, digits = 3)
dep_hist <- hist(master_df$DEPRESSION)
mhlth_hist <- hist(master_df$MHLTH)
dep_hist <- hist(master_df$DEPRESSION, main = "Distribution of Tract-level Depression Rates")
mhlth_hist <- hist(master_df$MHLTH, main = "Distribution of Tract-level Poor Mental Health Rates")
dep_qq <- qqnorm(master_df$DEPRESSION, main = "Distribution of Tract-level Depression Rates")
dep_qq <- qqnorm(master_df$DEPRESSION, main = "Distribution of Tract-level Depression Rates")
mhlth_qq <- qqnorm(master_df$MHLTH, main = "Distribution of Tract-level Poor Mental Health Rates")
dep_hist <- hist(master_df$DEPRESSION, main = "Distribution of Tract-level Depression Rates")
mhlth_hist <- hist(master_df$MHLTH, main = "Distribution of Tract-level Poor Mental Health Rates")
# Some of common RMD options (and the defaults) are:
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right',
knitr::opts_chunk$set(warning = F, results = "hide", message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3)
# options(scipen=9, digits = 3)
# Import Libraries
rm(list=ls())
library(readr)
library(ggplot2)
library(tidyr)
library(corrplot)
url <- 'https://raw.githubusercontent.com/eitanaka/DATS6101_Final_Project_Team2/main/data_set/geo_socio_health_df.csv'
master_df<- read_csv(url)
# checking normality of dependent variables
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_never_married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- "MT_now_married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
colnames(master_df)[colnames(master_df) == "EA_Less than high school graduate"] <- "EA_Less_than_high_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_High school graduate"] <- "EA_High_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_college or associate's degree"] <- "EA_college_or_associates_degree"
colnames(master_df)[colnames(master_df) == "EA_Bachelor's degree"] <- "EA_Bachelors_degree"
colnames(master_df)[colnames(master_df) == "EA_Graduate or professional degree"] <- "EA_Graduate_or_professional_degree"
# histograms
dep_hist <- hist(master_df$DEPRESSION, main = "Distribution of Tract-level Depression Rates")
mhlth_hist <- hist(master_df$MHLTH, main = "Distribution of Tract-level Poor Mental Health Rates")
dep_hist
mhlth_hist
# qqplots
dep_qq <- qqnorm(master_df$DEPRESSION, main = "Distribution of Tract-level Depression Rates")
mhlth_qq <- qqnorm(master_df$MHLTH, main = "Distribution of Tract-level Poor Mental Health Rates")
dep_qq
mhlth_qq
# create data frame of only numeric values
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# hist_list <- lapply(names(num_df), function(col) {
#   ggplot(num_df, aes_string(x = col)) +
#     geom_histogram() +
#     ggtitle(col)
# })
# hist_list
master_df <- na.omit(master_df)
colSums(is.na(master_df[6:length(master_df)]))
str(master_df)
summary(master_df)
library(ggplot2) # load gplots package for heatmap function
# Set color palette
my_palette <- colorRampPalette(c("red", "yellow", "green"))(n = 299)
# Create heatmap
master_df <- na.omit(master_df)
cor_matrix <- cor(master_df[,6:50])
heatmap(cor_matrix, symm = TRUE)
# Some of common RMD options (and the defaults) are:
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right',
knitr::opts_chunk$set(warning = F, results = "hide", message = F)
# Can globally set option for number display format.
options(scientific=T, digits = 3)
# options(scipen=9, digits = 3)
# Import Libraries
rm(list=ls())
library(readr)
library(ggplot2)
library(tidyr)
library(corrplot)
url <- 'https://raw.githubusercontent.com/eitanaka/DATS6101_Final_Project_Team2/main/data_set/geo_socio_health_df.csv'
master_df<- read_csv(url)
# checking normality of dependent variables
master_df <- na.omit(master_df)
colnames(master_df)[colnames(master_df) == "MT_Never Married"] <- "MT_never_married"
colnames(master_df)[colnames(master_df) == "MT_Now married"] <- "MT_now_married"
colnames(master_df)[colnames(master_df) == "Total Population"] <- "total_population"
colnames(master_df)[colnames(master_df) == "EA_Less than high school graduate"] <- "EA_Less_than_high_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_High school graduate"] <- "EA_High_school_graduate"
colnames(master_df)[colnames(master_df) == "EA_college or associate's degree"] <- "EA_college_or_associates_degree"
colnames(master_df)[colnames(master_df) == "EA_Bachelor's degree"] <- "EA_Bachelors_degree"
colnames(master_df)[colnames(master_df) == "EA_Graduate or professional degree"] <- "EA_Graduate_or_professional_degree"
# histograms
dep_hist <- hist(master_df$DEPRESSION, main = "Distribution of Tract-level Depression Rates")
mhlth_hist <- hist(master_df$MHLTH, main = "Distribution of Tract-level Poor Mental Health Rates")
dep_hist
mhlth_hist
# qqplots
dep_qq <- qqnorm(master_df$DEPRESSION, main = "Distribution of Tract-level Depression Rates")
mhlth_qq <- qqnorm(master_df$MHLTH, main = "Distribution of Tract-level Poor Mental Health Rates")
dep_qq
mhlth_qq
# create data frame of only numeric values
cols_to_remove <- c("...1", "CountyFIPS", "GEOID", "StateAbbr", "CountyName", "MT_Total", "EA_Total", "total_population", "CT_Total", "ES_Total", "LAND_AREA")
num_df <- master_df[ , !names(master_df) %in% cols_to_remove]
# hist_list <- lapply(names(num_df), function(col) {
#   ggplot(num_df, aes_string(x = col)) +
#     geom_histogram() +
#     ggtitle(col)
# })
# hist_list
master_df <- na.omit(master_df)
colSums(is.na(master_df[6:length(master_df)]))
str(master_df)
summary(master_df)
library(ggplot2) # load gplots package for heatmap function
# # Set color palette
# my_palette <- colorRampPalette(c("red", "yellow", "green"))(n = 299)
#
# # Create heatmap
# master_df <- na.omit(master_df)
# cor_matrix <- cor(master_df[,6:50])
# heatmap(cor_matrix, symm = TRUE)
# heatmap(cor_matrix,
#         col=my_palette, # use custom color palette
#         scale="none", # do not scale the data
#         symm=TRUE, # use symmetric color scale
#         margins=c(10, 10), # add margins to the heatmap
#         main="Correlation Heatmap") # add a title to the heatmap
cor_matrix <- cor(master_df[,6:length(master_df)])
View(cor_matrix)
# Create 6 subset for cor_matrix or cor_heatmap
dep_mth_df <- subset(master_df, select = "DEPRESSION")
dep_mth_df <- cbind(dep_mth_df, master_df[,9])
# Data frame containing depression, mhlth, health risk behaviors
dep_mth_hrb <- dep_mth_df
dep_mth_hrb["BINGE"] <- master_df[,6]
dep_mth_hrb["LPA"] <- master_df[,8]
dep_mth_hrb["SLEEP"] <- master_df[,10]
# Data frame containing depression, mhlth, MT
dep_mth_mt <- cbind(dep_mth_df, master_df[12:16])
# Data frame containing depression, mhlth, EA, MI, Pop
dep_mth_ea_mi_pop <- cbind(dep_mth_df, master_df[18:24])
# Data Frame containing depression, mhlth, MI, Pop, CT
dep_mth_ct <- cbind(dep_mth_df, master_df[26:34])
# Data Frame containing depression, mhlth, ES
dep_mth_es <-cbind(dep_mth_df, master_df[36:41])
# Data Frame containing depression, mhlth, others
dep_mth_geo <- cbind(dep_mth_df, master_df[42:length(master_df)])
# A set of cormatrix
cor_matrix_HRB <- cor(dep_mth_hrb)
cor_matrix_MT_EA <- cor(dep_mth_mt)
cor_matrix_EA_MI_POP <- cor(dep_mth_ea_mi_pop)
cor_matrix_CT <- cor(dep_mth_ct)
cor_matrix_ES <- cor(dep_mth_ES)
cor_matrix <- cor(master_df[,6:length(master_df)])
View(cor_matrix)
# Create 6 subset for cor_matrix or cor_heatmap
dep_mth_df <- subset(master_df, select = "DEPRESSION")
dep_mth_df <- cbind(dep_mth_df, master_df[,9])
# Data frame containing depression, mhlth, health risk behaviors
dep_mth_hrb <- dep_mth_df
dep_mth_hrb["BINGE"] <- master_df[,6]
dep_mth_hrb["LPA"] <- master_df[,8]
dep_mth_hrb["SLEEP"] <- master_df[,10]
# Data frame containing depression, mhlth, MT
dep_mth_mt <- cbind(dep_mth_df, master_df[12:16])
# Data frame containing depression, mhlth, EA, MI, Pop
dep_mth_ea_mi_pop <- cbind(dep_mth_df, master_df[18:24])
# Data Frame containing depression, mhlth, MI, Pop, CT
dep_mth_ct <- cbind(dep_mth_df, master_df[26:34])
# Data Frame containing depression, mhlth, ES
dep_mth_es <-cbind(dep_mth_df, master_df[36:41])
# Data Frame containing depression, mhlth, others
dep_mth_geo <- cbind(dep_mth_df, master_df[42:length(master_df)])
# A set of cormatrix
cor_matrix_HRB <- cor(dep_mth_hrb)
cor_matrix_MT_EA <- cor(dep_mth_mt)
cor_matrix_EA_MI_POP <- cor(dep_mth_ea_mi_pop)
cor_matrix_CT <- cor(dep_mth_ct)
cor_matrix_ES <- cor(dep_mth_es)
cor_matrix_GEO <- cor(dep_mth_geo)
# Plot
corrplot(cor_matrix_HRB, method = "circle", type = "upper", order = "hclust", addCoef.col = "black", tl.col = "black", tl.srt = 45, cl.pos = "n")
corrplot(cor_matrix_MT_EA, method = "circle", type = "upper", order = "hclust", addCoef.col = "black", tl.col = "black", tl.srt = 45, cl.pos = "n")
corrplot(cor_matrix_EA_MI_POP, method = "circle", type = "upper", order = "hclust", addCoef.col = "black", tl.col = "black", tl.srt = 45, cl.pos = "n")
corrplot(cor_matrix_CT, method = "circle", type = "upper", order = "hclust", addCoef.col = "black", tl.col = "black", tl.srt = 45, cl.pos = "n")
corrplot(cor_matrix_ES, method = "circle", type = "upper", order = "hclust", addCoef.col = "black", tl.col = "black", tl.srt = 45, cl.pos = "n")
corrplot(cor_matrix_GEO, method = "circle", type = "upper", order = "hclust", addCoef.col = "black", tl.col = "black", tl.srt = 45, cl.pos = "n")
